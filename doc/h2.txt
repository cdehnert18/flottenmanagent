CREATE USER IF NOT EXISTS "SA" SALT 'f8ac10c721f85d63' HASH '9124461e70215e802b44f47c45a66ac9ed5056a4aa99fe3212850d8ef630ab7c' ADMIN;
CREATE MEMORY TABLE "PUBLIC"."UGV"(
    "BATTERY_LEVEL" FLOAT(24) NOT NULL,
    "MAX_SPEED" FLOAT(24) NOT NULL,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "TENANT_ID" BIGINT,
    "DESCRIPTION" CHARACTER VARYING(255)
);
CREATE MEMORY TABLE "PUBLIC"."TENANT"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL
);
CREATE MEMORY TABLE "PUBLIC"."ROUTE_EXECUTION"(
    "CURRENT_LATITUDE" FLOAT(24) NOT NULL,
    "CURRENT_LONGITUDE" FLOAT(24) NOT NULL,
    "POSITION_DEVIATION" FLOAT(24) NOT NULL,
    "POSITION_LATITUDE" FLOAT(24),
    "POSITION_LONGITUDE" FLOAT(24),
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "MISSION_EXECUTION_ID" BIGINT,
    "TIME_REACHED" TIMESTAMP(6)
);
CREATE MEMORY TABLE "PUBLIC"."POSITION"(
    "LATITUDE" FLOAT(24) NOT NULL,
    "LONGITUDE" FLOAT(24) NOT NULL,
    "MISSION_ID" BIGINT
);
CREATE MEMORY TABLE "PUBLIC"."MISSION_EXECUTION"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "MISSION_ID" BIGINT,
    "START_DATE" TIMESTAMP(6),
    "UGV_ID" BIGINT,
    "USER_ID" BIGINT
);
CREATE MEMORY TABLE "PUBLIC"."MISSION"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "TENANT_ID" BIGINT,
    "DESCRIPTION" CHARACTER VARYING(255),
    "SHORT_NAME" CHARACTER VARYING(255)
);
CREATE MEMORY TABLE "PUBLIC"."FLEET_USER"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "TENANT_ID" BIGINT,
    "USER_NAME" CHARACTER VARYING(255)
);
ALTER TABLE "PUBLIC"."UGV" ADD CONSTRAINT "PUBLIC"."FKBX6GA6XVCMPW9K6QBIJ6XWKEX" FOREIGN KEY("TENANT_ID") REFERENCES "PUBLIC"."TENANT"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."UGV" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");
ALTER TABLE "PUBLIC"."TENANT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("ID");
ALTER TABLE "PUBLIC"."ROUTE_EXECUTION" ADD CONSTRAINT "PUBLIC"."FKJX7GF5K7Q9AJT5PJMVAI525XC" FOREIGN KEY("POSITION_LATITUDE", "POSITION_LONGITUDE") REFERENCES "PUBLIC"."POSITION"("LATITUDE", "LONGITUDE") NOCHECK;
ALTER TABLE "PUBLIC"."ROUTE_EXECUTION" ADD CONSTRAINT "PUBLIC"."FK2IIHG8STUJ8HSON56K2BMK517" FOREIGN KEY("MISSION_EXECUTION_ID") REFERENCES "PUBLIC"."MISSION_EXECUTION"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."ROUTE_EXECUTION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_61" PRIMARY KEY("ID");
ALTER TABLE "PUBLIC"."POSITION" ADD CONSTRAINT "PUBLIC"."FKGEPWKE3UJB2VB7Q2JDNREES45" FOREIGN KEY("MISSION_ID") REFERENCES "PUBLIC"."MISSION"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."POSITION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("LATITUDE", "LONGITUDE");
ALTER TABLE "PUBLIC"."MISSION_EXECUTION" ADD CONSTRAINT "PUBLIC"."FKF2VE9IDRCY3XF4HBTM6S483I8" FOREIGN KEY("UGV_ID") REFERENCES "PUBLIC"."UGV"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."MISSION_EXECUTION" ADD CONSTRAINT "PUBLIC"."FK5WAJMW9OOJED2XU6GX494GOXD" FOREIGN KEY("MISSION_ID") REFERENCES "PUBLIC"."MISSION"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."MISSION_EXECUTION" ADD CONSTRAINT "PUBLIC"."FK1WS54QPJWSEHKN49Q6QCTQPHH" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."FLEET_USER"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."MISSION_EXECUTION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_BF" PRIMARY KEY("ID");
ALTER TABLE "PUBLIC"."MISSION_EXECUTION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" UNIQUE NULLS DISTINCT ("UGV_ID");
ALTER TABLE "PUBLIC"."MISSION" ADD CONSTRAINT "PUBLIC"."FKFJHQ0JGE3S292UKBUXEO252TY" FOREIGN KEY("TENANT_ID") REFERENCES "PUBLIC"."TENANT"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."MISSION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("ID");
ALTER TABLE "PUBLIC"."FLEET_USER" ADD CONSTRAINT "PUBLIC"."FKQ327W8NM9FYTDFXMIX57YUHCL" FOREIGN KEY("TENANT_ID") REFERENCES "PUBLIC"."TENANT"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."FLEET_USER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_A" PRIMARY KEY("ID");